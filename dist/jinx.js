!function(n){var t={};function s(c){if(t[c])return t[c].exports;var e=t[c]={i:c,l:!1,exports:{}};return n[c].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=n,s.c=t,s.d=function(n,t,c){s.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:c})},s.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,t){if(1&t&&(n=s(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)s.d(c,e,function(t){return n[t]}.bind(null,e));return c},s.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(t,"a",t),t},s.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},s.p="",s(s.s=1)}([function(module,exports){eval("window.requestAnimationFrame = window.requestAnimationFrame || function (callback) {\n  window.setTimeout(callback, 16);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0NvbXBhdGFiaWxpdHkuanM/MWFmMyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxsYmFjayIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLHFCQUFQLEdBQStCRCxNQUFNLENBQUNDLHFCQUFQLElBQWdDLFVBQVNDLFFBQVQsRUFBbUI7QUFBRUYsUUFBTSxDQUFDRyxVQUFQLENBQWtCRCxRQUFsQixFQUEyQixFQUEzQjtBQUFnQyxDQUFwSCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24oY2FsbGJhY2spIHsgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssMTYpIH07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/engine/Compatability.js\nvar Compatability = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/engine/Engine.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// import Display from \'./Display\';\nvar Engine =\n/*#__PURE__*/\nfunction () {\n  function Engine(props) {\n    _classCallCheck(this, Engine);\n\n    console.log(\'props\', props);\n    this.state = {\n      scenes: [],\n      activeScene: null,\n      gx: null,\n      running: true,\n      frameCount: 0\n    }; // this.loop = this.loop.bind(this);\n    // this.registerScene = this.registerScene.bind(this);\n    // this.loop();\n  }\n  /**\r\n   * @param {String} name\r\n   * @param {Scene} scene\r\n   */\n\n\n  _createClass(Engine, [{\n    key: "registerScene",\n    value: function registerScene(name, scene) {\n      console.log("register");\n      this.state.scenes.push({\n        name: name,\n        scene: scene\n      });\n    }\n    /**\r\n     * @param {String} name\r\n     */\n\n  }, {\n    key: "scene",\n    value: function scene(name) {\n      var _this$state = this.state,\n          scenes = _this$state.scenes,\n          activeScene = _this$state.activeScene;\n      this.state.activeScene = scenes.find(function (scene) {\n        return scene.name === name;\n      }) || activeScene;\n    }\n  }, {\n    key: "update",\n    value: function update() {\n      var _this$state2 = this.state,\n          activeScene = _this$state2.activeScene,\n          scenes = _this$state2.scenes;\n      console.log("scenes", scenes); // const myScene = scenes.find(scene => scene.name === activeScene);\n      // if(activeScene !== null && typeof myScene.scene.components === \'function\') {\n      //     const components = myScene.scene.components;\n      //     console.log("hello?");\n      //     components.forEach(cmp => {\n      //         if(typeof cmp.update === \'function\') {\n      //             cmp.update();\n      //         }\n      //     });\n      // } else {\n      //     console.log("active scene missing components prop", activeScene);\n      // }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var gx = this.state.gx;\n    }\n  }, {\n    key: "loop",\n    value: function loop() {\n      var _this$state3 = this.state,\n          running = _this$state3.running,\n          frameCount = _this$state3.frameCount;\n      console.log("loop", frameCount);\n      this.state.frameCount++;\n      this.update();\n\n      if (running) {\n        window.requestAnimationFrame(this.loop);\n      }\n    }\n  }]);\n\n  return Engine;\n}();\n\n\n// CONCATENATED MODULE: ./src/engine/Scene.js\nfunction Scene_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Scene = function Scene() {\n  Scene_classCallCheck(this, Scene);\n} // getComponents() {}\n// registerObjects() {}\n;\n\n\n// CONCATENATED MODULE: ./src/engine/Display.js\nfunction Display_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Display_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Display_createClass(Constructor, protoProps, staticProps) { if (protoProps) Display_defineProperties(Constructor.prototype, protoProps); if (staticProps) Display_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Display =\n/*#__PURE__*/\nfunction () {\n  function Display(props) {\n    Display_classCallCheck(this, Display);\n\n    this.state = {\n      displayElm: null,\n      contextType: \'2d\',\n      ctx: null,\n      dpr: window.devicePixelRatio || 1,\n      bsr: this.getBSR(),\n      gfx: null\n    };\n    this.init = this.init.bind(this);\n    this.getPixelRatio = this.getPixelRatio.bind(this);\n    this.init(props);\n  }\n\n  Display_createClass(Display, [{\n    key: "init",\n    value: function init(props) {}\n  }, {\n    key: "setDisplay",\n    value: function setDisplay(canvasId) {\n      var displayDomId = document.getElementById(canvasId);\n      var ratio = this.getPixelRatio();\n      var _displayDomId$width = displayDomId.width,\n          w = _displayDomId$width.width,\n          h = _displayDomId$width.height;\n      displayDomId.width = w * ratio;\n      displayDomId.height = h * ratio;\n      displayDomId.style.width = w + "px";\n      displayDomId.style.height = h + "px";\n      this.state.displayElm = displayDomId;\n      this.state.ctx = displayDomId.getContext(this.state.contextType);\n    }\n  }, {\n    key: "getBSR",\n    value: function getBSR() {\n      return ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n    }\n  }, {\n    key: "createDisplay",\n    value: function createDisplay(targetElmId) {\n      if (targetElmId) {\n        this.state.displayElm = document.getElementById(targetElmId).createElement("canvas");\n      } else {\n        this.state.displayElm = document.createElement("canvas");\n      }\n\n      this.state.ctx = this.state.displayElm.getContext(this.state.contextType);\n    }\n  }, {\n    key: "getPixelRatio",\n    value: function getPixelRatio() {\n      var _this$state = this.state,\n          dpr = _this$state.dpr,\n          bsr = _this$state.bsr;\n      return dpr / bsr;\n    }\n  }, {\n    key: "getDisplayData",\n    value: function getDisplayData() {\n      var _this$state$displayEl = this.state.displayElm,\n          height = _this$state$displayEl.height,\n          width = _this$state$displayEl.width;\n      return {\n        heightCenter: height / 2,\n        widthCenter: width / 2,\n        height: height,\n        width: width\n      };\n    }\n  }, {\n    key: "clear",\n    value: function clear(g) {\n      g.clearRect(0, 0, g.canvas.width, g.canvas.height); //g.clearRect (0,0,this.getDisplayWidth(),this.getDisplayHeight());\n    }\n  }, {\n    key: "render",\n    value: function render(g) {\n      this.clear(g);\n    }\n  }]);\n\n  return Display;\n}();\n\n\n// CONCATENATED MODULE: ./src/Jinx.js\n/* concated harmony reexport Engine */__webpack_require__.d(__webpack_exports__, "Engine", function() { return Engine; });\n/* concated harmony reexport Scene */__webpack_require__.d(__webpack_exports__, "Scene", function() { return Scene; });\n/* concated harmony reexport Display */__webpack_require__.d(__webpack_exports__, "Display", function() { return Display; });\n\n\n\n\n\nvar Jinx = new Engine();\n/* harmony default export */ var src_Jinx = __webpack_exports__["default"] = (Jinx);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0VuZ2luZS5qcz8wZTFkIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvU2NlbmUuanM/NTY0NSIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0Rpc3BsYXkuanM/Nzg3ZSIsIndlYnBhY2s6Ly8vLi9zcmMvSmlueC5qcz85YzY0Il0sIm5hbWVzIjpbIkVuZ2luZSIsInByb3BzIiwiY29uc29sZSIsImxvZyIsInN0YXRlIiwic2NlbmVzIiwiYWN0aXZlU2NlbmUiLCJneCIsInJ1bm5pbmciLCJmcmFtZUNvdW50IiwibmFtZSIsInNjZW5lIiwicHVzaCIsImZpbmQiLCJ1cGRhdGUiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsb29wIiwiU2NlbmUiLCJEaXNwbGF5IiwiZGlzcGxheUVsbSIsImNvbnRleHRUeXBlIiwiY3R4IiwiZHByIiwiZGV2aWNlUGl4ZWxSYXRpbyIsImJzciIsImdldEJTUiIsImdmeCIsImluaXQiLCJiaW5kIiwiZ2V0UGl4ZWxSYXRpbyIsImNhbnZhc0lkIiwiZGlzcGxheURvbUlkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJhdGlvIiwid2lkdGgiLCJ3IiwiaCIsImhlaWdodCIsInN0eWxlIiwiZ2V0Q29udGV4dCIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwidGFyZ2V0RWxtSWQiLCJjcmVhdGVFbGVtZW50IiwiaGVpZ2h0Q2VudGVyIiwid2lkdGhDZW50ZXIiLCJnIiwiY2xlYXJSZWN0IiwiY2FudmFzIiwiY2xlYXIiLCJKaW54Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtJQUVxQkEsTTs7O0FBQ2pCLGtCQUFZQyxLQUFaLEVBQW1CO0FBQUE7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VUFDQ0UsR0FERCxlQUNDQSxHQUREO0FBRWxCLGFBQU9GLEdBQUcsR0FBR0UsR0FBYjtBQUNHOzs7cUNBRWU7QUFBQSxrQ0FDYyxLQUFLckIsS0FBTCxDQUFXZ0IsVUFEekI7QUFBQSxVQUNKbUIsTUFESSx5QkFDSkEsTUFESTtBQUFBLFVBQ0lILEtBREoseUJBQ0lBLEtBREo7QUFFWixhQUFPO0FBQ0hhLG9CQUFZLEVBQUVWLE1BQU0sR0FBQyxDQURsQjtBQUVIVyxtQkFBVyxFQUFFZCxLQUFLLEdBQUMsQ0FGaEI7QUFHSEcsY0FBTSxFQUFOQSxNQUhHO0FBSUhILGFBQUssRUFBTEE7QUFKRyxPQUFQO0FBTUg7OzswQkFFS2UsQyxFQUFHO0FBQ1hBLE9BQUMsQ0FBQ0MsU0FBRixDQUFZLENBQVosRUFBYyxDQUFkLEVBQWdCRCxDQUFDLENBQUNFLE1BQUYsQ0FBU2pCLEtBQXpCLEVBQStCZSxDQUFDLENBQUNFLE1BQUYsQ0FBU2QsTUFBeEMsRUFEVyxDQUVYO0FBQ0c7OzsyQkFFTVksQyxFQUFHO0FBQ04sV0FBS0csS0FBTCxDQUFXSCxDQUFYO0FBQ0g7Ozs7Ozs7O0FDeEVMO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQSxJQUFNSSxJQUFJLEdBQUcsSUFBSXZELE1BQUosRUFBYjtBQUNldUQsa0ZBQWYiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBEaXNwbGF5IGZyb20gJy4vRGlzcGxheSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygncHJvcHMnLHByb3BzKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBzY2VuZXM6IFtdLFxyXG4gICAgICAgICAgICBhY3RpdmVTY2VuZTogbnVsbCxcclxuICAgICAgICAgICAgZ3g6IG51bGwsXHJcbiAgICAgICAgICAgIHJ1bm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGZyYW1lQ291bnQ6IDBcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRoaXMubG9vcCA9IHRoaXMubG9vcC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIC8vIHRoaXMucmVnaXN0ZXJTY2VuZSA9IHRoaXMucmVnaXN0ZXJTY2VuZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIC8vIHRoaXMubG9vcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcclxuICAgICAqIEBwYXJhbSB7U2NlbmV9IHNjZW5lXHJcbiAgICAgKi9cclxuICAgIHJlZ2lzdGVyU2NlbmUobmFtZSwgc2NlbmUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInJlZ2lzdGVyXCIpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUuc2NlbmVzLnB1c2goeyBuYW1lLCBzY2VuZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXHJcbiAgICAgKi9cclxuICAgIHNjZW5lKG5hbWUpIHtcclxuICAgICAgICBjb25zdCB7IHNjZW5lcywgYWN0aXZlU2NlbmUgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVTY2VuZSA9IHNjZW5lcy5maW5kKHNjZW5lID0+IHNjZW5lLm5hbWUgPT09IG5hbWUpIHx8IGFjdGl2ZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IGFjdGl2ZVNjZW5lLCBzY2VuZXMgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzY2VuZXNcIiwgc2NlbmVzKTtcclxuICAgICAgICAvLyBjb25zdCBteVNjZW5lID0gc2NlbmVzLmZpbmQoc2NlbmUgPT4gc2NlbmUubmFtZSA9PT0gYWN0aXZlU2NlbmUpO1xyXG4gICAgICAgIC8vIGlmKGFjdGl2ZVNjZW5lICE9PSBudWxsICYmIHR5cGVvZiBteVNjZW5lLnNjZW5lLmNvbXBvbmVudHMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvLyAgICAgY29uc3QgY29tcG9uZW50cyA9IG15U2NlbmUuc2NlbmUuY29tcG9uZW50cztcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJoZWxsbz9cIik7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHMuZm9yRWFjaChjbXAgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYodHlwZW9mIGNtcC51cGRhdGUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjbXAudXBkYXRlKCk7XHJcbiAgICAgICAgLy8gICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgIH0pO1xyXG4gICAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwiYWN0aXZlIHNjZW5lIG1pc3NpbmcgY29tcG9uZW50cyBwcm9wXCIsIGFjdGl2ZVNjZW5lKTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCB7IGd4IH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBsb29wKCkge1xyXG4gICAgICAgIGNvbnN0IHsgcnVubmluZywgZnJhbWVDb3VudCB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImxvb3BcIiwgZnJhbWVDb3VudCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5mcmFtZUNvdW50Kys7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmKHJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmxvb3ApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7fVxyXG4gICAgLy8gZ2V0Q29tcG9uZW50cygpIHt9XHJcbiAgICAvLyByZWdpc3Rlck9iamVjdHMoKSB7fVxyXG59IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc3BsYXkge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBkaXNwbGF5RWxtOiBudWxsLFxyXG4gICAgICAgICAgICBjb250ZXh0VHlwZTogJzJkJyxcclxuICAgICAgICAgICAgY3R4OiBudWxsLFxyXG4gICAgICAgICAgICBkcHI6IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsXHJcbiAgICAgICAgICAgIGJzcjogdGhpcy5nZXRCU1IoKSxcclxuICAgICAgICAgICAgZ2Z4OiBudWxsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0ID0gdGhpcy5pbml0LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5nZXRQaXhlbFJhdGlvID0gdGhpcy5nZXRQaXhlbFJhdGlvLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5pbml0KHByb3BzKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KHByb3BzKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldERpc3BsYXkoY2FudmFzSWQpIHtcclxuICAgICAgICBjb25zdCBkaXNwbGF5RG9tSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJZCk7XHJcblx0XHRjb25zdCByYXRpbyA9IHRoaXMuZ2V0UGl4ZWxSYXRpbygpO1xyXG5cdFx0Y29uc3QgeyB3aWR0aDogdywgaGVpZ2h0OiBoIH0gPSBkaXNwbGF5RG9tSWQud2lkdGg7XHJcblx0XHRkaXNwbGF5RG9tSWQud2lkdGggPSB3KnJhdGlvO1xyXG5cdFx0ZGlzcGxheURvbUlkLmhlaWdodCA9IGgqcmF0aW87XHJcblx0XHRkaXNwbGF5RG9tSWQuc3R5bGUud2lkdGggPSB3K1wicHhcIjtcclxuXHRcdGRpc3BsYXlEb21JZC5zdHlsZS5oZWlnaHQgPSBoK1wicHhcIjtcclxuICAgICAgICB0aGlzLnN0YXRlLmRpc3BsYXlFbG0gPSBkaXNwbGF5RG9tSWQ7XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5jdHggPSBkaXNwbGF5RG9tSWQuZ2V0Q29udGV4dCh0aGlzLnN0YXRlLmNvbnRleHRUeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRCU1IoKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0eC53ZWJraXRCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XHJcbiAgICAgICAgY3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcclxuICAgICAgICBjdHgubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XHJcbiAgICAgICAgY3R4Lm9CYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8XHJcbiAgICAgICAgY3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVEaXNwbGF5KHRhcmdldEVsbUlkKSB7XHJcbiAgICAgICAgaWYodGFyZ2V0RWxtSWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kaXNwbGF5RWxtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0RWxtSWQpLmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kaXNwbGF5RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0ZS5jdHggPSB0aGlzLnN0YXRlLmRpc3BsYXlFbG0uZ2V0Q29udGV4dCh0aGlzLnN0YXRlLmNvbnRleHRUeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQaXhlbFJhdGlvKCkge1xyXG4gICAgICAgIGNvbnN0IHsgZHByLCBic3IgfSA9IHRoaXMuc3RhdGU7XHJcblx0XHRyZXR1cm4gZHByIC8gYnNyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERpc3BsYXlEYXRhKCl7XHJcbiAgICAgICAgY29uc3QgeyBoZWlnaHQsIHdpZHRoIH0gPSB0aGlzLnN0YXRlLmRpc3BsYXlFbG07XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaGVpZ2h0Q2VudGVyOiBoZWlnaHQvMixcclxuICAgICAgICAgICAgd2lkdGhDZW50ZXI6IHdpZHRoLzIsXHJcbiAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgd2lkdGhcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjbGVhcihnKSB7XHJcblx0XHRnLmNsZWFyUmVjdCgwLDAsZy5jYW52YXMud2lkdGgsZy5jYW52YXMuaGVpZ2h0KTtcclxuXHRcdC8vZy5jbGVhclJlY3QgKDAsMCx0aGlzLmdldERpc3BsYXlXaWR0aCgpLHRoaXMuZ2V0RGlzcGxheUhlaWdodCgpKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmVuZGVyKGcpIHtcclxuICAgICAgICB0aGlzLmNsZWFyKGcpO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCAnLi9lbmdpbmUvQ29tcGF0YWJpbGl0eSc7XHJcbmltcG9ydCBFbmdpbmUgZnJvbSAnLi9lbmdpbmUvRW5naW5lJztcclxuaW1wb3J0IFNjZW5lIGZyb20gJy4vZW5naW5lL1NjZW5lJztcclxuaW1wb3J0IERpc3BsYXkgZnJvbSAnLi9lbmdpbmUvRGlzcGxheSc7XHJcblxyXG5leHBvcnQge1xyXG4gICAgRW5naW5lLFxyXG4gICAgU2NlbmUsXHJcbiAgICBEaXNwbGF5XHJcbn07XHJcblxyXG5jb25zdCBKaW54ID0gbmV3IEVuZ2luZTtcclxuZXhwb3J0IGRlZmF1bHQgSmlueDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')}]);